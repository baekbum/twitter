(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(25),c=n.n(a),i=n(10),s=n(45),o=n(11),l=n(12),d=n.n(l),j=n(17),u=n(27);n(52),n(68),n(67);u.a.initializeApp({apiKey:"AIzaSyDY_CNXdtp_2e7BFWJZUTLLe5euMOUWNvY",authDomain:"twitter-c245f.firebaseapp.com",projectId:"twitter-c245f",storageBucket:"twitter-c245f.appspot.com",messagingSenderId:"692392036780",appId:"1:692392036780:web:f34bb3a23474d4dc5b9209"});var b=u.a,h=u.a.firestore(),p=u.a.storage(),O=u.a.auth(),x=n(74),f=n(71),m=n(72),v=n(2),g=void 0,y=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(i.a)(u,2),h=b[0],p=b[1],y=Object(r.useState)(""),w=Object(i.a)(y,2),C=w[0],k=w[1],N=function(e){a(e)},L=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?l(r):"password"===n&&p(r)},U=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.createUserWithEmailAndPassword(o,h);case 3:t=e.sent,alert("\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),k(e.t0.message),console.log(C);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a,{variant:"outline-secondary",style:{width:"100%",marginTop:"2vh"},onClick:N.bind(g,!0),children:"\uac00\uc785\ud558\uae30"}),Object(v.jsxs)(f.a,{show:n,onHide:N.bind(g,!1),backdrop:"static",keyboard:!1,children:[Object(v.jsx)(f.a.Header,{closeButton:!0,children:Object(v.jsx)(f.a.Title,{children:"\ud68c\uc6d0\uac00\uc785"})}),Object(v.jsx)(f.a.Body,{children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(m.a.Label,{children:"Enter Email"}),Object(v.jsx)(m.a.Control,{name:"email",type:"email",placeholder:"Enter email",onChange:L})]}),Object(v.jsxs)(m.a.Group,{controlId:"formBasicPassword",children:[Object(v.jsx)(m.a.Label,{children:"Enter Password"}),Object(v.jsx)(m.a.Control,{name:"password",type:"password",placeholder:"Enter password",onChange:L})]}),Object(v.jsx)(m.a.Text,{className:"text-muted",children:C?{errMessage:C}:""})]})}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(x.a,{variant:"primary",onClick:U,children:"\uac00\uc785\ud558\uae30"}),Object(v.jsx)(x.a,{variant:"secondary",onClick:N.bind(g,!1),children:"\ub2eb\uae30"})]})]})]})},w=n(20),C=n(23),k=(n(60),function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(r.useState)(""),h=Object(i.a)(u,2),p=h[0],f=h[1],g=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?a(r):"password"===n&&l(r)},k=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.signInWithEmailAndPassword(n,o);case 3:t=e.sent,console.log(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0.message),console.log(p);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?r=new b.auth.GoogleAuthProvider:"github"===n&&(r=new b.auth.GithubAuthProvider),e.next=4,O.signInWithPopup(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(m.a.Label,{children:"Email address"}),Object(v.jsx)(m.a.Control,{name:"email",type:"email",placeholder:"Enter email",onChange:g})]}),Object(v.jsxs)(m.a.Group,{controlId:"formBasicPassword",children:[Object(v.jsx)(m.a.Label,{children:"Password"}),Object(v.jsx)(m.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:g})]}),Object(v.jsx)(m.a.Text,{className:"text-muted",children:p?{errMessage:p}:""}),Object(v.jsx)(x.a,{variant:"primary",style:{width:"100%"},onClick:k,children:"\ub85c\uadf8\uc778"})]}),Object(v.jsxs)("div",{className:"auth-btns",children:[Object(v.jsxs)(x.a,{variant:"outline-secondary",name:"google",style:{width:"100%"},onClick:N,children:["Continue with Google ",Object(v.jsx)(w.a,{icon:C.b})]}),Object(v.jsxs)(x.a,{variant:"outline-secondary",name:"github",style:{width:"100%"},onClick:N,children:["Continue with Github ",Object(v.jsx)(w.a,{icon:C.a})]})]}),Object(v.jsx)(y,{})]})}),N=(n(61),function(){return Object(v.jsx)("div",{className:"auth-container",children:Object(v.jsxs)("div",{style:{width:"25vw",display:"flex",flexDirection:"column"},children:[Object(v.jsx)("div",{className:"auth-twitter-icon",children:Object(v.jsx)(w.a,{icon:C.c,color:"#04AAFF",size:"3x",style:{marginBottom:"3vh"}})}),Object(v.jsx)("div",{className:"auth-login-span",children:Object(v.jsx)("span",{children:"\ub85c\uadf8\uc778"})}),Object(v.jsx)(k,{})]})})}),L=n(29),U=n(70),F=n(73),S=void 0,I=function(e){var t=e.userObj,n=e.refreshUser,a=Object(r.useState)(!1),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(i.a)(l,2),b=u[0],h=u[1],O=Object(r.useState)(""),g=Object(i.a)(O,2),y=g[0],w=g[1],C=Object(r.useState)(""),k=Object(i.a)(C,2),N=k[0],L=k[1],I=Object(r.useState)(""),R=Object(i.a)(I,2),A=R[0],D=R[1],E=Object(r.useState)(""),T=Object(i.a)(E,2),B=T[0],P=T[1],z=function(e){var t=e.target,n=t.name,r=t.value;"name"===n?w(r):"phoneNumber"===n&&L(r)},G=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target.files,!(a=r[0])){e.next=9;break}return e.next=5,p.refFromURL(t.photoURL).delete();case 5:(c=new FileReader).onloadend=function(e){var t=e.currentTarget.result;D(t)},P(a.name),c.readAsDataURL(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(d.a.mark((function e(r){var a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y){e.next=2;break}return e.abrupt("return");case 2:if(a=t.photoURL,!A){e.next=11;break}return c=p.ref().child("".concat(t.uid,"/").concat(Object(F.a)())),e.next=7,c.putString(A,"data_url");case 7:return i=e.sent,e.next=10,i.ref.getDownloadURL();case 10:a=e.sent;case 11:return e.next=13,t.updateProfile({displayName:y,phoneNumber:N,photoURL:a});case 13:n();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(""),D(""),e.next=4,t.updateProfile({photoURL:null});case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){!1===e&&h(!1),o(e)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(U.a,{src:t.photoURL,style:{height:"4vh",width:"4vh",cursor:"pointer"},onClick:W.bind(S,!0),roundedCircle:!0}),Object(v.jsxs)(f.a,{show:s,onHide:W.bind(S,!1),backdrop:"static",keyboard:!1,children:[Object(v.jsxs)(f.a.Header,{closeButton:!0,style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)(f.a.Title,{children:"\ud504\ub85c\ud544"}),Object(v.jsx)(x.a,{variant:"outline-primary",size:"sm",onClick:function(){h((function(e){return!e}))},style:{marginLeft:"1vw"},children:"EditMode"})]}),Object(v.jsxs)(f.a.Body,{style:{display:"flex",flexDirection:"column"},children:[Object(v.jsx)("div",{style:{display:"flex",flexDirection:"column",paddingBottom:"1vh"},children:Object(v.jsxs)("div",{style:{height:"35vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(v.jsx)("div",{style:{height:"20vh",width:"20vh"},children:Object(v.jsx)(U.a,{src:t.photoURL,roundedCircle:!0,style:{width:"100%",height:"100%"}})}),Object(v.jsx)("span",{style:{fontSize:"2em"},children:t.displayName})]})}),b?Object(v.jsxs)("div",{style:{paddingTop:"1vh",borderTop:"0.5vh solid #dee2e6"},children:[Object(v.jsxs)(m.a,{style:{paddingBottom:"1vh",borderBottom:"0.5vh solid #dee2e6"},children:[Object(v.jsxs)(m.a.Group,{controlId:"name",children:[Object(v.jsx)(m.a.Label,{children:"Edit name"}),Object(v.jsx)(m.a.Control,{name:"name",type:"text",placeholder:"Enter name",onChange:z,defaultValue:t.displayName})]}),Object(v.jsxs)(m.a.Group,{controlId:"phoneNumber",children:[Object(v.jsx)(m.a.Label,{children:"Edit phoneNumber"}),Object(v.jsx)(m.a.Control,{name:"phoneNumber",type:"text",placeholder:"Enter phoneNumber",onChange:z,defaultValue:t.phoneNumber})]}),Object(v.jsxs)(m.a.Group,{controlId:"profileImage",children:[Object(v.jsx)(m.a.Label,{children:"Edit profile image"}),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(m.a.File,{id:"image-file",label:""===B?"Edit profile image":B,accept:"image/*",custom:!0,onChange:G}),Object(v.jsx)(x.a,{variant:"outline-secondary",onClick:H,children:"Clear"})]})]})]}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1vh"},children:Object(v.jsx)(x.a,{variant:"primary",onClick:M,children:"Edit"})})]}):null]})]})]})},R=function(e){var t=e.userObj,n=e.refreshUser,r=Object(o.f)();return Object(v.jsxs)("nav",{style:{display:"flex",height:"100%",backgroundColor:"#1c2938",alignItems:"center",justifyContent:"space-between"},children:[Object(v.jsx)("div",{style:{marginLeft:"1vw"},children:Object(v.jsx)(w.a,{icon:C.c,color:"#04AAFF",size:"2x"})}),Object(v.jsxs)("div",{style:{marginRight:"1vw"},children:[Object(v.jsx)(I,{userObj:t,refreshUser:n}),Object(v.jsx)(w.a,{icon:L.c,color:"#04AAFF",size:"lg",style:{marginLeft:"1vw",cursor:"pointer"},onClick:function(){O.signOut(),r.push("/")}})]})]})},A=n(39),D=function(e){var t=e.userObj,n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),l=Object(i.a)(o,2),u=l[0],b=l[1],O=Object(r.useState)(""),f=Object(i.a)(O,2),g=f[0],y=f[1],w=function(){y(""),b("")},C=function(){var e=Object(j.a)(d.a.mark((function e(){var n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c){e.next=2;break}return e.abrupt("return");case 2:if(n="",!u){e.next=11;break}return r=p.ref().child("".concat(t.uid,"/").concat(Object(F.a)())),e.next=7,r.putString(u,"data_url");case 7:return a=e.sent,e.next=10,a.ref.getDownloadURL();case 10:n=e.sent;case 11:return i={content:c,createDt:Date.now(),userId:t.uid,userName:t.displayName,fileUrl:n},e.next=14,h.collection("tweets").add(i);case 14:s(""),w();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(m.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(v.jsx)(m.a.Control,{as:"textarea",rows:10,style:{marginTop:"1vh"},onChange:function(e){var t=e.target.value;s(t)},value:c}),u?Object(v.jsx)(U.a,{src:u,rounded:!0,style:{width:"100%",marginTop:"1vh",height:"39vh"}}):null]}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(v.jsx)("div",{children:Object(v.jsx)(m.a.File,{id:"image-file",label:""===g?"Add image":g,accept:"image/*",custom:!0,onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;b(t)},y(t.name),n.readAsDataURL(t)}})}),Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"2vh"},children:[Object(v.jsx)(x.a,{variant:"primary",style:{borderRadius:"1em",marginRight:"0.5vw"},onClick:w,children:"Image clear"}),Object(v.jsx)(x.a,{variant:"primary",style:{borderRadius:"1em"},onClick:C,children:"Tweet"})]})]})]})})},E=n(75),T=function(e){var t=e.tweetObj,n=e.isOwner,r=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=6;break}return e.next=4,h.doc("tweets/".concat(t.id)).delete();case 4:return e.next=6,p.refFromURL(t.fileUrl).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(E.a,{style:{marginBottom:"1vh"},children:[Object(v.jsx)(E.a.Header,{children:t.userName}),Object(v.jsxs)(E.a.Body,{children:[Object(v.jsx)(E.a.Text,{children:t.content}),t.fileUrl?Object(v.jsx)(U.a,{src:t.fileUrl,rounded:!0,style:{width:"100%",marginTop:"1vh"}}):null]}),n?Object(v.jsx)(E.a.Footer,{className:"text-muted",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(v.jsx)(x.a,{variant:"outline-danger",size:"sm",style:{borderRadius:"1em"},onClick:r,children:"Delete"})}):null]})},B=(n(64),function(e){var t=e.userObj,n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){h.collection("tweets").orderBy("createDt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)(Object(A.a)({},e.data()),{},{id:e.id})}));s(t)}))}),[]),Object(v.jsxs)("div",{className:"main-container",children:[Object(v.jsxs)("div",{className:"tweet-list",children:[Object(v.jsxs)("div",{style:{height:"5vh",backgroundColor:"#1c2938",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{icon:L.a,color:"#04AAFF",size:"lg",style:{marginLeft:"1vw"}}),Object(v.jsx)("span",{style:{color:"white",marginLeft:"0.5vw"},children:"TimeLine"})]}),Object(v.jsx)(w.a,{icon:L.b,color:"#04AAFF",size:"1x",style:{cursor:"pointer",marginRight:"1vw"},onClick:function(){j((function(e){return!e}))}})]}),Object(v.jsx)("div",{style:{marginTop:"1vh",display:"flex",flexDirection:"column",height:"83vh",overflow:"scroll",overflowX:"hidden"},children:c.map((function(e){return Object(v.jsx)(T,{tweetObj:e,isOwner:e.userId===t.uid},e.id)}))})]}),d?Object(v.jsxs)("div",{className:"tweet",children:[Object(v.jsx)("div",{style:{height:"5vh",backgroundColor:"#1c2938",display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{icon:C.c,color:"#04AAFF",size:"lg",style:{marginLeft:"1vw"}}),Object(v.jsx)("span",{style:{color:"white",marginLeft:"0.5vw"},children:"Tweet"})]})}),Object(v.jsx)(D,{userObj:t})]}):null,Object(v.jsx)("div",{className:"message-list",style:{display:"none"},children:"DM"}),Object(v.jsx)("div",{className:"message",style:{display:"none"},children:"DM write"})]})}),P=function(e){var t=e.isLoggedIn,n=e.userObj,r=e.refreshUser;return Object(v.jsxs)(s.a,{children:[t?Object(v.jsx)("div",{style:{width:"100vw",height:"7vh"},children:Object(v.jsx)(R,{userObj:n,refreshUser:r})}):null,Object(v.jsx)(o.c,{children:Object(v.jsx)(v.Fragment,{children:t?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"91vh",width:"100vw",marginTop:"1vh",marginBottom:"1vh"},children:Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(B,{userObj:n})})}):Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(N,{})})})})]})},z=n.p+"static/media/default.10691648.png";var G=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)(null),j=Object(i.a)(d,2),u=j[0],b=j[1];return Object(r.useEffect)((function(){O.onAuthStateChanged((function(e){if(e){var t=e.providerData[0];b({uid:e.uid,displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoURL:t.photoURL||z,updateProfile:function(t){return e.updateProfile(t)}}),l(!0)}else b({uid:"",displayName:"",email:"",phoneNumber:"",photoURL:"",updateProfile:null}),l(!1);a(!0)}))}),[]),Object(v.jsx)(v.Fragment,{children:n?Object(v.jsx)(P,{isLoggedIn:o,userObj:u,refreshUser:function(){var e=O.currentUser,t=e.providerData[0];b({uid:e.uid,displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoURL:t.photoURL||z,updateProfile:function(t){return e.updateProfile(t)}})}}):"initializing..."})};n(65);c.a.render(Object(v.jsx)(G,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.15eccee7.chunk.js.map